{% load static %}
{% load dashboard_tags %}

{% url 'staff:dashboard' as dashboard %}
<aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a href="{{ dashboard }}" class="brand-link">
        <img src="{% static 'dist/img/AdminLTELogo.png' %}" alt="AdminLTE Logo"
            class="brand-image img-circle elevation-3" style="opacity: .8">
        <span title='Student Management System' class="brand-text font-weight-light">SMS</span>
    </a>

    <!-- Sidebar -->
    <div class="sidebar">
        <!-- Sidebar user panel (optional) -->
        <div class="user-panel mt-3 pb-3 mb-3 d-flex" id="staff-sidebar-data">
            {% include 'staff/dashboard_includes/staff_sidebar_data.html' %}
        </div>

        <!-- Sidebar Menu -->
        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                <!-- Add icons to the links using the .nav-icon class
                    with font-awesome or any other icon font library -->
                
                <li class="nav-item">
                    <a href="{{ dashboard }}" class="nav-link {% if request.path == dashboard %} active {% endif %}">
                        <i class="nav-icon fas fa-th"></i>
                        <p>Home</p>
                    </a>
                </li>            
                {% url 'announcement-staff:add-announcements' as add_announcements %} 
                {% url 'announcement-staff:view-announcements' as view_announcements %}
                {% is_in request.path add_announcements view_announcements as announcements_active %}
                <li class="nav-item has-treeview {% if announcements_active %} menu-open {% endif %}">
                    <a href="#" class="nav-link {% if announcements_active %} active {% endif %}">
                        <i class="nav-icon fas fa-bullhorn"></i>
                        <p>
                            Announcements
                            <i class="fas fa-angle-left right"></i>
                            {% if count_announcements %}
                                <span class="badge badge-info right">
                                    {{ count_announcements }}
                                </span>
                            {% endif %}
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            <a href="{{ add_announcements }}" class="nav-link {% if request.path == add_announcements %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Add Announcements</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ view_announcements }}" class="nav-link {% if request.path == view_announcements %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>View Announcements</p>
                            </a>
                        </li>
                    </ul>
                </li>    
                {% url 'attendance-staff:take-attendance' as take_attendance %}
                {% url 'attendance-staff:manage-attendance' as manage_attendance %}
                {% is_in request.path take_attendance manage_attendance as attendance_active %}     
                <li class="nav-item has-treeview {% if attendance_active %} menu-open {% endif %}">
                    <a href="#" class="nav-link {% if attendance_active %} active {% endif %}">
                        <i class="nav-icon fas fa-award"></i>
                        <p>
                            Attendance
                            <i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            <a href="{{ take_attendance }}" class="nav-link {% if request.path == take_attendance %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Take Attendance</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ manage_attendance }}" class="nav-link {% if request.path == manage_attendance %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Manage Attendance</p>
                            </a>
                        </li>
                    </ul>
                </li> 
                {% url 'assignment-staff:add-assignment' as add_assignment %}
                {% url 'assignment-staff:manage-assignment' as manage_assignment %}
                {% url 'assignment-staff:view-submitted-assignments' assignment.slug as view_submitted_assignments %}
                {% is_in request.path manage_assignment view_submitted_assignments as manage_assignment_active %}
                {% is_in request.path add_assignment manage_assignment view_submitted_assignments as assignment_active %}     
                <li class="nav-item has-treeview {% if assignment_active %} menu-open {% endif %}">
                    <a href="#" class="nav-link {% if assignment_active %} active {% endif %}">
                        <i class="nav-icon fas fa-edit"></i>
                        <p>
                            Assignments
                            <i class="fas fa-angle-left right"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            <a href="{{ add_assignment }}" class="nav-link {% if request.path == add_assignment %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Add Assignments</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ manage_assignment }}" class="nav-link {% if manage_assignment_active %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Manage Assignments</p>
                            </a>
                        </li>
                    </ul>
                </li>         
                {% url 'result-staff:add-results' as add_results %}
                {% is_in request.path add_results as result_active %}     
                <li class="nav-item has-treeview {% if result_active %} menu-open {% endif %}">
                    <a href="#" class="nav-link {% if result_active %} active {% endif %}">
                        <i class="nav-icon fas fa-chart-bar"></i>
                        <p>
                            Results
                            <i class="fas fa-angle-left right"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            <a href="{{ add_results }}" class="nav-link {% if request.path == add_results %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Add Results</p>
                            </a>
                        </li>
                    </ul>
                </li>    
                {% url 'feedback-staff:add-feedback' as add_feedback_staff %}
                {% url 'feedback-staff:view-feedback' as view_feedback_staff %}
                {% is_in request.path add_feedback_staff view_feedback_staff as feedback_active %}     
                <li class="nav-item has-treeview {% if feedback_active %} menu-open {% endif %}">
                    <a href="#" class="nav-link {% if feedback_active %} active {% endif %}">
                        <i class="nav-icon fas fa-copy"></i>
                        <p>
                            Feedbacks
                            <i class="fas fa-angle-left right"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            <a href="{{ add_feedback_staff }}" class="nav-link {% if request.path == add_feedback_staff %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Add Feedback</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ view_feedback_staff }}" class="nav-link {% if request.path == view_feedback_staff %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>View Feedbacks</p>
                            </a>
                        </li>
                    </ul>
                </li>
                {% url 'contact-staff:contacts-staff' as contacts_staff %}
                {% url 'contact-staff:staff-contacts-students' as staff_contact_students %}
                {% is_in request.path contacts_staff staff_contact_students as contacts_active %}
                <li class="nav-item has-treeview {% if contacts_active %} menu-open {% endif %}">
                    <a href="#" class="nav-link {% if contacts_active %} active {% endif %}">
                        <i class="nav-icon fas fa-users"></i>
                        <p>
                            Contacts
                            <i class="fas fa-angle-left right"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            <a href="{{ contacts_staff }}" class="nav-link {% if request.path == contacts_staff %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Staff</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ staff_contact_students }}" class="nav-link {% if request.path == staff_contact_students %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Students</p>
                            </a>
                        </li>
                    </ul>
                </li> 
                {% url 'feed-staff:staff-feed' as feed_staff %}
                {% url 'contact-staff:staff-contacts-students' as staff_contact_students %}
                {% is_in request.path feed_staff staff_contact_students as feed_active %}
                <li class="nav-item has-treeview {% if feed_active %} menu-open {% endif %}">
                    <a href="#" class="nav-link {% if feed_active %} active {% endif %}">
                        <i class="nav-icon fas fa-comments"></i>
                        <p>
                            Community
                            <i class="fas fa-angle-left right"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            <a href="{{ feed_staff }}" class="nav-link {% if request.path == feed_staff %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Feed</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ staff_contact_students }}" class="nav-link {% if request.path == staff_contact_students %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Chat</p>
                            </a>
                        </li>
                    </ul>
                </li>                                   
            </ul>
        </nav>
        <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
</aside>